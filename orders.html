<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>orders</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
    integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
  <link rel="stylesheet" href="css/all.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.js"></script>
</head>

<body>
  <nav class="navbar navbar--dark">
    <div class="container d-flex">
      <div class="navbar__btn"><i class="fas fa-bars"></i></div>
      <a href="index.html" class="navbar__title">Shoptime</a>
      <ul class="navbar__list">
        <li class="navbar__list__item">
          <a href="index.html">HOME</a>
        </li>
        <li class="navbar__list__item navbar__list__item--active">
          <a href="orders.html">ORDERS</a>
        </li>
        <li class="navbar__list__item">
          <a href="product.html">PRODUCT</a>
        </li>
      </ul>
      <ul class="navbar__list navbar__list--light navbar__list--right">
        <li class="navbar__list__item">
          <a href="#">
            <i class="fas fa-user fa-lg	"></i>
            <span>ADMIN</span>
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <div class="main">
    <div class="container">
      <div class="title d-flex justify-content-between">
        <h6 class="d-flex  p-relative">
          <label class="checkbox">
            <input type="checkbox">
            <span class="checkbox__checkmark"></span>
          </label>
          <label class="dropdown dropdownNormal">
            <input type="checkbox">
            <i class="fas fa-caret-down dropdown__icon"></i>
            <ul class="dropdown__list">
              <li class="dropdown__list__item">Select All</li>
              <li class="dropdown__list__item dropdown__list__item--active">Unselect All</li>
              <li class="dropdown__list__item">Paid</li>
              <li class="dropdown__list__item">Unpaid</li>
              <li class="dropdown__list__item">Shipping</li>
              <li class="dropdown__list__item">Done</li>
            </ul>
          </label>
          <label class="dropdown dropdownNormal">
            <input type="checkbox">
            <i class="fas fa-tags dropdown__icon"></i>
            <div class="dropdown__tooltip">
              Change Status
            </div>
            <ul class="dropdown__list">
              <li class="dropdown__list__item dropdown__list__item--disabled">Change Status to…</li>
              <li class="dropdown__list__item dropdown__list__item--active">Paid</li>
              <li class="dropdown__list__item">Unpaid</li>
              <li class="dropdown__list__item">Shipping</li>
              <li class="dropdown__list__item">Done</li>
            </ul>
          </label>
        </h6>
        <div class="dropdown dropdownCBXStyle">
          <h6 class="dropdown__title"><span class="h6">EDIT SECTION</span><i
              class="fas fa-caret-down dropdown__icon"></i></h6>
          <div class="dropdown__checkboxList">
            <label class="dropdown__checkboxList__item">
              Order ID
              <input type="checkbox">
              <span class="dropdown__checkboxList__item__checkmark"></span>
            </label>
            <label class="dropdown__checkboxList__item">
              Customer
              <input type="checkbox" checked="checked">
              <span class="dropdown__checkboxList__item__checkmark"></span>
            </label>
            <label class="dropdown__checkboxList__item">
              Product List
              <input type="checkbox">
              <span class="dropdown__checkboxList__item__checkmark"></span>
            </label>
            <label class="dropdown__checkboxList__item">
              Total
              <input type="checkbox">
              <span class="dropdown__checkboxList__item__checkmark"></span>
            </label>
          </div>
        </div>
      </div>
      <div class="tablerow">
        <table class="table orderTable">
          <thead>
            <tr>
              <th style="padding-left: 44px;">Customer</th>
              <th width="27%">Product List</th>
              <th style="text-align:right">Total</th>
              <th>Add to Cart</th>
              <th>Check-out</th>
              <th>Address</th>
              <th width="15%">Status</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <label class="checkbox checkboxWithWord">
                  Ian Medina
                  <input type="checkbox">
                  <span class="checkbox__checkmark"></span>
                </label>
              </td>
              <td class="tdList">
                <div class="tdList__item">
                  Vestibulum.
                  <p class="d-flex justify-content-between">
                    <span class="color-muted">$1,400</span>
                    1
                  </p>
                </div>
                <div class="tdList__item">
                  Fusce vehicu.
                  <p class="d-flex justify-content-between">
                    <span class="color-muted">$800</span>
                    1
                  </p>
                </div>
              </td>
              <td>$2,200</td>
              <td>2018/6/8
                <p>13:39</p>
              </td>
              <td>2018/6/8
                <p>20:23</p>
              </td>
              <td>386 Windler Drives
                <p>Apt. 358</p>
              </td>
              <td>
                <label class="dropdown dropdownBtnStyle">
                  <input type="checkbox">
                  <button class="btn btn-success">
                    <span class="dropdown__title">PAID</span>
                    <i class="fas fa-caret-down dropdown__icon"></i>
                  </button></button>
                  <ul class="dropdown__list">
                    <li class="dropdown__list__item dropdown__list__item--active">Paid</li>
                    <li class="dropdown__list__item">Unpaid</li>
                    <li class="dropdown__list__item">Shipping</li>
                    <li class="dropdown__list__item">Done</li>
                  </ul>
                </label>
              </td>
            </tr>
            <tr>
              <td>
                <label class="checkbox checkboxWithWord">
                  Manuel Stephens
                  <input type="checkbox">
                  <span class="checkbox__checkmark"></span>
                </label>
              </td>
              <td class="tdList">
                <div class="tdList__item">
                  Donec facili.
                  <p class="d-flex justify-content-between">
                    <span class="color-muted">$1,400</span>
                    1
                  </p>
                </div>
              </td>
              <td>$2,200</td>
              <td>2018/6/8
                <p>13:39</p>
              </td>
              <td>2018/6/8
                <p>20:23</p>
              </td>
              <td>386 Windler Drives
                <p>Apt. 358</p>
              </td>
              <td>
                <label class="dropdown dropdownBtnStyle">
                  <input type="checkbox">
                  <button class="btn btn-hope">
                    <span class="dropdown__title">SHIPPING</span>
                    <i class="fas fa-caret-down dropdown__icon"></i>
                  </button></button>
                  <ul class="dropdown__list">
                    <li class="dropdown__list__item">Paid</li>
                    <li class="dropdown__list__item">Unpaid</li>
                    <li class="dropdown__list__item dropdown__list__item--active">Shipping</li>
                    <li class="dropdown__list__item">Done</li>
                  </ul>
                </label>
              </td>
            </tr>
            <tr>
              <td>
                <label class="checkbox checkboxWithWord">
                  Daisy Reynolds
                  <input type="checkbox">
                  <span class="checkbox__checkmark"></span>
                </label>
              </td>
              <td class="tdList">
                <div class="tdList__item">
                  Curabitur lo.
                  <p class="d-flex justify-content-between">
                    <span class="color-muted">$1,400</span>
                    1
                  </p>
                </div>
                <div class="tdList__item">
                  Donec facili.
                  <p class="d-flex justify-content-between">
                    <span class="color-muted">$800</span>
                    1
                  </p>
                </div>
                <div class="tdList__item">
                  Nam porttito.
                  <p class="d-flex justify-content-between">
                    <span class="color-muted">$800</span>
                    1
                  </p>
                </div>
              </td>
              <td>$3,000</td>
              <td>2018/6/8
                <p>13:39</p>
              </td>
              <td>2018/6/8
                <p>20:23</p>
              </td>
              <td>386 Windler Drives
                <p>Apt. 358</p>
              </td>
              <td>
                <label class="dropdown dropdownBtnStyle">
                  <input type="checkbox">
                  <button class="btn btn-primary">
                    <span class="dropdown__title">DONE</span>
                    <i class="fas fa-caret-down dropdown__icon"></i>
                  </button></button>
                  <ul class="dropdown__list">
                    <li class="dropdown__list__item">Paid</li>
                    <li class="dropdown__list__item">Unpaid</li>
                    <li class="dropdown__list__item">Shipping</li>
                    <li class="dropdown__list__item dropdown__list__item--active">Done</li>
                  </ul>
                </label>
              </td>
            </tr>
            <tr class="color-muted text-decoration-line">
              <td>
                <label class="checkbox checkboxWithWord">
                  Daisy Reynolds
                  <input type="checkbox">
                  <span class="checkbox__checkmark"></span>
                </label>
              </td>
              <td class="tdList">
                <div class="tdList__item">
                  Curabitur lo.
                  <p class="d-flex justify-content-between">
                    <span class="color-muted">$1,400</span>
                    1
                  </p>
                </div>
              </td>
              <td>$3,000</td>
              <td>2018/6/8
                <p>13:39</p>
              </td>
              <td>2018/6/8
                <p>20:23</p>
              </td>
              <td>386 Windler Drives
                <p>Apt. 358</p>
              </td>
              <td>
                <label class="dropdown dropdownBtnStyle">
                  <input type="checkbox">
                  <button class="btn btn-muted">
                    <span class="dropdown__title">UNPAID</span>
                    <i class="fas fa-caret-down dropdown__icon"></i>
                  </button>
                  <ul class="dropdown__list">
                    <li class="dropdown__list__item">Paid</li>
                    <li class="dropdown__list__item dropdown__list__item--active">Unpaid</li>
                    <li class="dropdown__list__item">Shipping</li>
                    <li class="dropdown__list__item">Done</li>
                  </ul>
                </label>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <ul class="paganation">
        <a href="">«</a>
        <a href="" class="active">1</a>
        <a href="">2</a>
        <a href="">3</a>
        <a href="">»</a>
      </ul>
    </div>
  </div>
  <script>
    let statuses = [{
        title: 'Paid',
        class: 'btn-success',
        trClass: ''
      },
      {
        title: 'Unpaid',
        class: 'btn-muted',
        trClass: 'color-muted'
      },
      {
        title: 'Shipping',
        class: 'btn-hope',
        trClass: ''
      },
      {
        title: 'Done',
        class: 'btn-primary',
        trClass: 'color-muted text-decoration-line'
      },
    ];

    $(document).ready(function () {

      $(document).mouseup(function (e) {
        var container = $(".dropdown");
        console.log(container.is(e.target), container.has(e.target))
        // if the target of the click isn't the container nor a descendant of the container
        if (!container.is(e.target) && container.has(e.target).length === 0) {
          container.children('.dropdown__list, .dropdown__checkboxList').removeClass(
            'dropdown__list--active dropdown__checkboxList--active')
        }
      });

      $('.dropdown.dropdownNormal .dropdown__icon').click(function (e) {
        $(this).siblings('.dropdown__list').toggleClass('dropdown__list--active');
        $(this).parents('.dropdownNormal').siblings().children('.dropdown__list').removeClass(
          'dropdown__list--active');
      })

      $('.dropdown.dropdownBtnStyle .btn').click(function (e) {
        let dropDownList = "dropdown__list";
        let dropDownListItem = "dropdown__list__item";
        // $(this).siblings('.dropdown__list ').show('slow');
        $(this).siblings('.dropdown__list ').toggleClass(`${dropDownList}--active`);
        $(this).parents('tr').siblings().find(`.${dropDownList}--active`)
          .removeClass(`${dropDownList}--active`);
        // 針對子選項操作
        $(this).siblings().find(`.${dropDownListItem}`).click(function (e) {
          $(this).parent().children().siblings(`.${dropDownListItem}--active`)
            .removeClass(`${dropDownListItem}--active`)
          e.target.classList.add(`${dropDownListItem}--active`);
          $(this).parents('.dropdown').find('.dropdown__title').text(e.target.textContent.toUpperCase())
          $(this).parents('.dropdown').find('.btn').removeClass().addClass(function () {
            return 'btn ' + statuses.filter((item) => item.title == e.target.textContent)[0].class;
          })
          //效果
          $(this).parents('tr').removeClass().addClass(() => {
            return statuses.filter((item) => item.title == e.target.textContent)[0].trClass
          })
        })
      });

      $('.dropdown.dropdownCBXStyle').click(function (e) {
        $(this).children('.dropdown__checkboxList').toggleClass(' dropdown__checkboxList--active');
      })
    })
  </script>

</body>

</html>